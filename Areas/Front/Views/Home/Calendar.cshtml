@addTagHelper *, Bonsai
@model Bonsai.Areas.Front.ViewModels.Home.CalendarMonthVM
@{
    var date = new DateTime(Model.Year, Model.Month, 1);
    var prev = date.AddMonths(-1);
    var next = date.AddMonths(1);
    var weekDays = new[] { "Пн", "Вт", "Ср", "Чт", "Пт", "Сб", "Вс" };
}

<div class="row">
    <div class="col-md-7 calendar">
        <div class="calendar-header">
            <a href="#" class="cmd-calendar-show" data-year="@prev.Year" data-month="@prev.Month" title="Предыдущий месяц">&laquo;</a>
            <h2>@Model.MonthName @Model.Year</h2>
            <a href="#" class="cmd-calendar-show" data-year="@next.Year" data-month="@next.Month" title="Следующий месяц">&raquo;</a>
        </div>
        <table class="calendar-table">
            <thead>
                <tr>
                    @foreach (var weekDay in weekDays)
                    {
                        <th>@weekDay</th>
                    }
                </tr>
            </thead>
            <tbody>
                @foreach (var week in Model.Weeks)
                {
                    <tr>
                        @foreach (var day in week)
                        {
                            <td class="calendar-day @(day.Day == 14 ? "calendar-day-selected" : "")">
                                <a href="" class="calendar-day-number @(day.IsActive ? "" : "calendar-day-number-inactive")">@day.Day</a>

                                @if (day.Events == null)
                                {
                                    continue;
                                }

                                <div class="calendar-event-markers">

                                    @foreach (var evt in day.Events)
                                    {
                                        <div class="calendar-event-marker"></div>
                                    }
                                </div>
                            </td>

                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="col-md-5 calendar-events">
        <h2>14 March 2018</h2>
        <p>Событий нет.</p>
    </div>
</div>
